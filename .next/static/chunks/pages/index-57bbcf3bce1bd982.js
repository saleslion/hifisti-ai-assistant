(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6616)}])},6616:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(5893),a=n(7294),i=n(9008),r=n.n(i),c=n(7066);function l(){let[e,t]=(0,a.useState)([]),[n,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(!1),u=(0,a.useRef)(null),h=async()=>{if(!n.trim())return;let s=[...e,{role:"user",content:n}];t(s),i(""),o(!0);try{let e=await c.Z.post("/api/chat",{history:s}),n={role:"assistant",content:e.data.reply};t([...s,n])}catch(e){t([...s,{role:"assistant",content:"Sorry, something went wrong."}])}finally{o(!1)}};return(0,a.useEffect)(()=>{var e;null===(e=u.current)||void 0===e||e.scrollTo({top:u.current.scrollHeight,behavior:"smooth"})},[e]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r(),{children:(0,s.jsx)("title",{children:"Hifisti Shopping Assistant"})}),(0,s.jsxs)("div",{className:"app-container",children:[(0,s.jsx)("header",{className:"app-header",children:"\uD83D\uDECDï¸ Hifisti AI Assistant"}),(0,s.jsxs)("div",{className:"chat-box",ref:u,children:[e.map((e,t)=>(0,s.jsx)("div",{className:"message ".concat(e.role),children:e.content},t)),l&&(0,s.jsx)("div",{className:"message assistant",children:"Thinking..."})]}),(0,s.jsxs)("div",{className:"input-area",children:[(0,s.jsx)("input",{type:"text",placeholder:"Ask me anything...",value:n,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&h()}),(0,s.jsx)("button",{onClick:h,children:"Send"})]})]})]})}}},function(e){e.O(0,[703,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);